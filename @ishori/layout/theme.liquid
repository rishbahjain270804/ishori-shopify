<!doctype html>
<html lang="{{ request.locale.iso_code }}">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="theme-color" content="#5f0511">
    <link rel="canonical" href="{{ canonical_url }}">
    
    {%- if settings.favicon != blank -%}
      <link rel="icon" type="image/png" href="{{ settings.favicon | image_url: width: 32, height: 32 }}">
    {%- endif -%}

    <title>
      {{ page_title }}
      {%- if current_tags %} &ndash; {{ current_tags | join: ', ' }}{% endif -%}
      {%- if current_page != 1 %} &ndash; Page {{ current_page }}{% endif -%}
      {%- unless page_title contains shop.name %} &ndash; {{ shop.name }}{% endunless -%}
    </title>

    {% if page_description %}
      <meta name="description" content="{{ page_description | escape }}">
    {% endif %}

    <!-- Core JavaScript - Load synchronously for dependencies -->
    <script src="{{ 'ishori-global.js' | asset_url }}" type="text/javascript"></script>

    {{ content_for_header }}

    <!-- Ishori Brand Styles -->
    <style>
      :root {
        /* Shopify Color Variables (RGB format) */
        --color-base-text: 95, 5, 17;
        --color-base-background-1: 255, 242, 241;
        --color-base-background-2: 255, 255, 255;
        --color-base-solid-button-labels: 255, 255, 255;
        --color-base-accent-1: 138, 10, 30;
        --color-base-accent-2: 60, 3, 11;
        --color-foreground: 95, 5, 17;
        --color-background: 255, 242, 241;
        --color-shadow: 60, 3, 11;
        
        /* Legacy support */
        --color-brand-primary: #5f0511;
        --color-brand-dark: #3c030b;
        --color-brand-accent: #8a0a1e;
        --color-text: #5f0511;
        
        /* Typography */
        --font-heading: serif;
        --font-body: 'Arapey', serif;
        
        /* Spacing */
        --page-width: 1200px;
        --spacing-unit: 1rem;
        
        /* Borders */
        --radius-button: 40px;
        --radius-card: 18px;
        --radius-media: 20px;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html {
        font-size: 62.5%;
        overflow-x: hidden;
        scroll-behavior: smooth;
      }

      body {
        font-family: var(--font-body);
        font-size: 1.6rem;
        line-height: 1.6;
        color: var(--color-text);
        background-color: var(--color-background);
        overflow-x: hidden;
        max-width: 100vw;
      }

      h1, h2, h3, h4, h5, h6 {
        font-family: var(--font-heading);
        font-weight: 700;
        line-height: 1.2;
        color: var(--color-brand-primary);
      }

      h1 { font-size: 4.8rem; }
      h2 { font-size: 3.6rem; }
      h3 { font-size: 2.8rem; }
      h4 { font-size: 2.4rem; }
      h5 { font-size: 2rem; }
      h6 { font-size: 1.6rem; }

      @media (max-width: 768px) {
        h1 { font-size: 3.2rem; }
        h2 { font-size: 2.8rem; }
        h3 { font-size: 2.4rem; }
      }

      a {
        color: var(--color-brand-primary);
        text-decoration: none;
        transition: color 0.3s ease;
      }

      a:hover {
        color: var(--color-brand-accent);
      }

      .container {
        max-width: var(--page-width);
        margin: 0 auto;
        padding: 0 2rem;
      }

      .button {
        display: inline-block;
        padding: 1.4rem 3.2rem;
        background-color: var(--color-brand-primary);
        color: var(--color-white);
        border-radius: var(--radius-button);
        border: 1px solid var(--color-brand-primary);
        font-size: 1.6rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        text-align: center;
      }

      .button:hover {
        background-color: var(--color-brand-dark);
        border-color: var(--color-brand-dark);
        transform: translateY(-2px);
      }

      .button--outline {
        background-color: transparent;
        color: var(--color-brand-primary);
      }

      .button--outline:hover {
        background-color: var(--color-brand-primary);
        color: var(--color-white);
      }

      img, video {
        max-width: 100%;
        height: auto;
        display: block;
      }
    </style>

    {{ 'ishori-theme.css' | asset_url | stylesheet_tag }}
  </head>

  <body>
    {% section 'header' %}

    <main id="MainContent" role="main">
      {{ content_for_layout }}
    </main>

    {% section 'footer' %}
  </body>
</html>
