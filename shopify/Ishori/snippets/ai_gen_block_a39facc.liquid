{% doc %}
  @prompt
    craete a section where a text and a image apper's like :
    text on top
    image on bottom 
    
    image ratio is 1860 Ã— 400
    corner radius is 50px round, chaneg bg in fff2f1, increasd lenght, when someone click on image then redirected to the a page of our website and also remove the discription
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-text-image-block-{{ ai_gen_id }} {
    width: 100%;
    padding: 40px 20px;
    background-color: #fff2f1;
  }

  .ai-text-image-container-{{ ai_gen_id }} {
    max-width: {{ block.settings.max_width }}px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: {{ block.settings.spacing }}px;
  }

  .ai-text-content-{{ ai_gen_id }} {
    text-align: {{ block.settings.text_alignment }};
  }

  .ai-text-heading-{{ ai_gen_id }} {
    font-size: {{ block.settings.heading_size }}px;
    color: {{ block.settings.heading_color }};
    margin: 0;
  }

  .ai-image-link-{{ ai_gen_id }} {
    display: block;
    width: 100%;
    text-decoration: none;
    transition: opacity 0.3s ease;
  }

  .ai-image-link-{{ ai_gen_id }}:hover {
    opacity: 0.9;
  }

  .ai-image-wrapper-{{ ai_gen_id }} {
    width: 100%;
    position: relative;
    overflow: hidden;
    border-radius: 50px;
  }

  .ai-image-{{ ai_gen_id }} {
    width: 100%;
    height: {{ block.settings.image_height }}px;
    display: block;
    object-fit: cover;
  }

  .ai-image-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: {{ block.settings.image_height }}px;
    background-color: #f4f4f4;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  .ai-image-placeholder-{{ ai_gen_id }} svg {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .ai-empty-state-{{ ai_gen_id }} {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    padding: 12px 20px;
    font-size: 14px;
    color: #666;
    text-align: center;
    pointer-events: none;
  }

  @media screen and (max-width: 749px) {
    .ai-text-heading-{{ ai_gen_id }} {
      font-size: {{ block.settings.heading_size | times: 0.8 }}px;
    }

    .ai-image-{{ ai_gen_id }},
    .ai-image-placeholder-{{ ai_gen_id }} {
      height: {{ block.settings.image_height | times: 0.6 }}px;
    }
  }
{% endstyle %}

<div class="ai-text-image-block-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-text-image-container-{{ ai_gen_id }}">
    <div class="ai-text-content-{{ ai_gen_id }}">
      {% if block.settings.heading != blank %}
        <h2 class="ai-text-heading-{{ ai_gen_id }}">{{ block.settings.heading }}</h2>
      {% endif %}
    </div>

    {% if block.settings.image_link != blank %}
      <a href="{{ block.settings.image_link }}" class="ai-image-link-{{ ai_gen_id }}">
        <div class="ai-image-wrapper-{{ ai_gen_id }}">
          {% if block.settings.image %}
            <img
              src="{{ block.settings.image | image_url: width: 2000 }}"
              alt="{{ block.settings.image.alt | escape }}"
              loading="lazy"
              class="ai-image-{{ ai_gen_id }}"
            >
          {% else %}
            <div class="ai-image-placeholder-{{ ai_gen_id }}">
              {{ 'image' | placeholder_svg_tag }}
              <div class="ai-empty-state-{{ ai_gen_id }}">
                Add an image to complete this block
              </div>
            </div>
          {% endif %}
        </div>
      </a>
    {% else %}
      <div class="ai-image-wrapper-{{ ai_gen_id }}">
        {% if block.settings.image %}
          <img
            src="{{ block.settings.image | image_url: width: 2000 }}"
            alt="{{ block.settings.image.alt | escape }}"
            loading="lazy"
            class="ai-image-{{ ai_gen_id }}"
          >
        {% else %}
          <div class="ai-image-placeholder-{{ ai_gen_id }}">
            {{ 'image' | placeholder_svg_tag }}
            <div class="ai-empty-state-{{ ai_gen_id }}">
              Add an image to complete this block
            </div>
          </div>
        {% endif %}
      </div>
    {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "Text and image",
  "tag": null,
  "settings": [
    {
      "type": "header",
      "content": "Text"
    },
    {
      "type": "richtext",
      "id": "heading",
      "label": "Heading",
      "default": "<p>Your heading text</p>"
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "range",
      "id": "heading_size",
      "min": 16,
      "max": 72,
      "step": 2,
      "unit": "px",
      "label": "Heading size",
      "default": 36
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading color",
      "default": "#0e1b4d"
    },
    {
      "type": "header",
      "content": "Image"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "url",
      "id": "image_link",
      "label": "Image link"
    },
    {
      "type": "range",
      "id": "image_height",
      "min": 200,
      "max": 800,
      "step": 50,
      "unit": "px",
      "label": "Image height",
      "default": 400
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "max_width",
      "min": 600,
      "max": 1600,
      "step": 100,
      "unit": "px",
      "label": "Maximum width",
      "default": 1200
    },
    {
      "type": "range",
      "id": "spacing",
      "min": 10,
      "max": 80,
      "step": 5,
      "unit": "px",
      "label": "Space between text and image",
      "default": 30
    }
  ],
  "presets": [
    {
      "name": "Text and image"
    }
  ]
}
{% endschema %}
